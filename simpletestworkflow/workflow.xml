<?xml version="1.0" encoding="UTF-8" standalone="no"?><workflow-app xmlns="uri:oozie:workflow:0.5" name="simpletests">
    <credentials>
        <credential name="hive" type="hcat">
            <property>
                <name>hcat.metastore.principal</name>
                <value>hive/_HOST@NOVA.LOCAL</value>
            </property>
            <property>
                <name>hcat.metastore.uri</name>
                <value>thrift://bbg2.nova.local:9083,thrift://bbg3.nova.local:9083</value>
            </property>
        </credential>
        <credential name="hive2" type="hive2">
            <property>
                <name>hive2.jdbc.url</name>
                <value>jdbc:hive2://bbg1.nova.local:2181,bbg2.nova.local:2181,bbg3.nova.local:2181,bbg4.nova.local:2181,bbg5.nova.local:2181/;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2</value>
            </property>
            <property>
                <name>hive2.server.principal</name>
                <value>hive/_HOST@NOVA.LOCAL</value>
            </property>
        </credential>
    </credentials>
    <start to="hive_1"/>
    <action cred="hive" name="hive_1">
        <hive xmlns="uri:oozie:hive-action:0.6">
            <job-tracker>${resourceManager}</job-tracker>
            <name-node>${nameNode}</name-node>
            <query>show databases;</query>
        </hive>
        <ok to="hive_2"/>
        <error to="hive2_1"/>
    </action>
    <action cred="hive" name="hive_2">
        <hive xmlns="uri:oozie:hive-action:0.6">
            <job-tracker>${resourceManager}</job-tracker>
            <name-node>${nameNode}</name-node>
            <script>tpch_query2.sql</script>
            <argument>--database</argument>
            <argument>tpch_flat_orc_5</argument>
        </hive>
        <ok to="hive2_1"/>
        <error to="hive2_1"/>
    </action>
    <action cred="hive2" name="hive2_1">
        <hive2 xmlns="uri:oozie:hive2-action:0.2">
            <job-tracker>${resourceManager}</job-tracker>
            <name-node>${nameNode}</name-node>
            <jdbc-url>jdbc:hive2://bbg1.nova.local:2181,bbg2.nova.local:2181,bbg3.nova.local:2181,bbg4.nova.local:2181,bbg5.nova.local:2181/tpch_flat_orc_5;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2</jdbc-url>
            <script>tpch_query2.sql</script>
        </hive2>
        <ok to="end"/>
        <error to="kill"/>
    </action>
    <kill name="kill">
        <message>${wf:errorMessage(wf:lastErrorNode())}</message>
    </kill>
    <end name="end"/>
</workflow-app>
